{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const input = document.querySelector('input');\nconst query = input.value.trim();\nconst encodedQuery = encodeURIComponent(query);\n\nexport function fetchImages(query) {\n  const searchParams = new URLSearchParams({\n    key: '43264360-d9ed0f3b1b07f2ae565fe2846',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryList = document.querySelector('.gallery');\n\nexport function renderImages(data) {\n  if (data.length == 0) {\n    iziToast.error({\n      title: 'Error',\n      message: `❌ Sorry, there are no images matching your search query. Please, try again!`,\n      theme: 'dark',\n      progressBarColor: '#FFFFFF',\n      color: '#EF4040',\n      position: 'topRight',\n    });\n  } else {\n    const galleryMarkup = data\n      .map(photo => {\n        return `<li class=\"photos-list-item\">\n        <a class=\"photos-list-link\" href=\"${photo.largeImageURL}\">\n        <img class=\"photo\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"/>\n        </a>\n        <ul class=\"photo-information-container\">\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Likes</span></br>${photo.likes}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Views</span></br>${photo.views}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Comments</span></br>${photo.comments}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Downloads</span></br>${photo.downloads}</p></li>\n        </ul>\n        </li>`;\n      })\n      .join('');\n\n    galleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n    });\n\n    lightbox.refresh();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst galleryList = document.querySelector('.gallery');\nconst input = document.querySelector('input');\nconst form = document.querySelector('form');\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\nfunction showMessage(message, type = 'error') {\n  iziToast[type]({\n    message: message,\n    position: 'topRight',\n  });\n}\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const query = input.value.trim();\n\n  if (query === '') {\n    showMessage('Please fill in the field for search', 'error');\n    return;\n  }\n\n  showLoader();\n\n  fetchImages(query)\n    .then(data => renderImages(data.hits))\n    .catch(error => {\n      console.log(error);\n      showMessage(\n        '❌ Sorry, there are no images matching your search query. Please, try again!',\n        'error'\n      );\n    })\n    .finally(() => hideLoader());\n\n  galleryList.innerHTML = '';\n}\n\nfunction handleInput(event) {\n  event.preventDefault();\n  input.value = event.target.value.trim();\n}\n\nform.addEventListener('submit', handleFormSubmit);\ninput.addEventListener('input', handleInput);\n"],"names":["input","fetchImages","query","url","response","galleryList","renderImages","data","iziToast","galleryMarkup","photo","SimpleLightbox","form","loader","showLoader","hideLoader","showMessage","message","type","handleFormSubmit","event","error","handleInput"],"mappings":"6vBAAA,MAAMA,EAAQ,SAAS,cAAc,OAAO,EAC9BA,EAAM,MAAM,KAAO,EAG1B,SAASC,EAAYC,EAAO,CASjC,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,CAEmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CChBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAE9C,SAASC,EAAaC,EAAM,CACjC,GAAIA,EAAK,QAAU,EACjBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8EACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UAChB,CAAK,MACI,CACL,MAAMC,EAAgBF,EACnB,IAAIG,GACI;AAAA,4CAC6BA,EAAM,aAAa;AAAA,kCAC7BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gGAGwBA,EAAM,KAAK;AAAA,gGACXA,EAAM,KAAK;AAAA,mGACRA,EAAM,QAAQ;AAAA,oGACbA,EAAM,SAAS;AAAA;AAAA,cAG5G,EACA,KAAK,EAAE,EAEVL,EAAY,mBAAmB,YAAaI,CAAa,EAExC,IAAIE,EAAe,aAAc,CAChD,aAAc,KACpB,CAAK,EAEQ,QAAO,CACjB,CACH,CCnCA,MAAMN,EAAc,SAAS,cAAc,UAAU,EAC/CL,EAAQ,SAAS,cAAc,OAAO,EACtCY,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASE,GAAa,CACpBF,EAAO,UAAU,IAAI,WAAW,CAClC,CAEA,SAASG,EAAYC,EAASC,EAAO,QAAS,CAC5CV,EAASU,CAAI,EAAE,CACb,QAASD,EACT,SAAU,UACd,CAAG,CACH,CAEA,SAASE,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMlB,EAAQF,EAAM,MAAM,KAAI,EAE9B,GAAIE,IAAU,GAAI,CAChBc,EAAY,sCAAuC,OAAO,EAC1D,MACD,CAEDF,IAEAb,EAAYC,CAAK,EACd,KAAKK,GAAQD,EAAaC,EAAK,IAAI,CAAC,EACpC,MAAMc,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBL,EACE,8EACA,OACR,CACA,CAAK,EACA,QAAQ,IAAMD,EAAU,CAAE,EAE7BV,EAAY,UAAY,EAC1B,CAEA,SAASiB,EAAYF,EAAO,CAC1BA,EAAM,eAAc,EACpBpB,EAAM,MAAQoB,EAAM,OAAO,MAAM,KAAI,CACvC,CAEAR,EAAK,iBAAiB,SAAUO,CAAgB,EAChDnB,EAAM,iBAAiB,QAASsB,CAAW"}