{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '43264360-d9ed0f3b1b07f2ae565fe2846';\n\nexport function fetchImages(query) {\n  const searchParams = new URLSearchParams({\n    key: apiKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => data.hits);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryList = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n});\n\nexport function renderImages(data) {\n  if (data.length == 0) {\n    iziToast.error({\n      title: 'Error',\n      message: `❌ Sorry, there are no images matching your search query. Please, try again!`,\n      theme: 'dark',\n      progressBarColor: '#FFFFFF',\n      color: '#EF4040',\n      position: 'topRight',\n    });\n  } else {\n    const galleryMarkup = data\n      .map(photo => {\n        return `<li class=\"photos-list-item\">\n        <a class=\"photos-list-link\" href=\"${photo.largeImageURL}\">\n        <img class=\"photo\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"/>\n        </a>\n        <ul class=\"photo-information-container\">\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Likes</span></br>${photo.likes}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Views</span></br>${photo.views}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Comments</span></br>${photo.comments}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Downloads</span></br>${photo.downloads}</p></li>\n        </ul>\n        </li>`;\n      })\n      .join('');\n\n    galleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n\n    lightbox.refresh(); // Refresh the lightbox after adding new images\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst galleryList = document.querySelector('.gallery');\nconst input = document.querySelector('input');\nconst form = document.querySelector('form');\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\nfunction showMessage(message, type = 'error') {\n  iziToast[type]({\n    message: message,\n    position: 'topRight',\n  });\n}\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const query = input.value.trim();\n\n  if (query === '') {\n    showMessage('Please fill in the field for search', 'error');\n    return;\n  }\n\n  showLoader();\n\n  fetchImages(query)\n    .then(data => renderImages(data))\n    .catch(error => {\n      console.log(error);\n      showMessage(\n        '❌ Sorry, there are no images matching your search query. Please, try again!',\n        'error'\n      );\n    })\n    .finally(() => hideLoader());\n\n  galleryList.innerHTML = ''; // Clear the gallery before loading new images\n}\n\nform.addEventListener('submit', handleFormSubmit);\n"],"names":["apiKey","fetchImages","query","url","response","data","galleryList","lightbox","SimpleLightbox","renderImages","iziToast","galleryMarkup","photo","input","form","loader","showLoader","hideLoader","showMessage","message","type","handleFormSubmit","event","error"],"mappings":"6vBAAA,MAAMA,EAAS,qCAER,SAASC,EAAYC,EAAO,CASjC,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,CAEmD,GAEpD,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,CAC3B,CChBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,KAChB,CAAC,EAEM,SAASC,EAAaJ,EAAM,CACjC,GAAIA,EAAK,QAAU,EACjBK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8EACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UAChB,CAAK,MACI,CACL,MAAMC,EAAgBN,EACnB,IAAIO,GACI;AAAA,4CAC6BA,EAAM,aAAa;AAAA,kCAC7BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gGAGwBA,EAAM,KAAK;AAAA,gGACXA,EAAM,KAAK;AAAA,mGACRA,EAAM,QAAQ;AAAA,oGACbA,EAAM,SAAS;AAAA;AAAA,cAG5G,EACA,KAAK,EAAE,EAEVN,EAAY,mBAAmB,YAAaK,CAAa,EAEzDJ,EAAS,QAAO,CACjB,CACH,CCpCA,MAAMD,EAAc,SAAS,cAAc,UAAU,EAC/CO,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASE,GAAa,CACpBF,EAAO,UAAU,IAAI,WAAW,CAClC,CAEA,SAASG,EAAYC,EAASC,EAAO,QAAS,CAC5CV,EAASU,CAAI,EAAE,CACb,QAASD,EACT,SAAU,UACd,CAAG,CACH,CAEA,SAASE,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMpB,EAAQW,EAAM,MAAM,KAAI,EAE9B,GAAIX,IAAU,GAAI,CAChBgB,EAAY,sCAAuC,OAAO,EAC1D,MACD,CAEDF,IAEAf,EAAYC,CAAK,EACd,KAAKG,GAAQI,EAAaJ,CAAI,CAAC,EAC/B,MAAMkB,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBL,EACE,8EACA,OACR,CACA,CAAK,EACA,QAAQ,IAAMD,EAAU,CAAE,EAE7BX,EAAY,UAAY,EAC1B,CAEAQ,EAAK,iBAAiB,SAAUO,CAAgB"}